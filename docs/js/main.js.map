{"version":3,"sources":["file:///home/runner/work/site/site/assets/js/main.ts"],"sourcesContent":["let viewport;\n\nwindow.addEventListener('load', function () {\n  viewport = getViewport();\n});\n\nexport const getViewportWidth = function () {\n  return Math.max(\n    document.documentElement.clientWidth || 0,\n    window.innerWidth || 0\n  );\n};\n\nexport const getContainerWidth = function () {\n  return document.querySelector('.container').clientWidth;\n};\n\nexport const debounce = function (callback) {\n  let timer;\n  return function (event) {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(callback, 100, event);\n  };\n};\n\nexport const getViewport = function () {\n  const breakTablet = 670;\n  const breakDesktop = 1024;\n  const currentViewport = getViewportWidth();\n  let vw;\n\n  if (currentViewport \u003c breakTablet) {\n    vw = 'mobile';\n  } else if (currentViewport \u003e= breakTablet \u0026\u0026 currentViewport \u003c breakDesktop) {\n    vw = 'tablet';\n  } else if (currentViewport \u003e= breakDesktop) {\n    vw = 'desktop';\n  }\n\n  return vw;\n};\n\nwindow.addEventListener(\n  'resize',\n  debounce(function () {\n    const viewportNew = getViewport();\n\n    if (viewportNew !== viewport) {\n      window.dispatchEvent(new Event('viewportchange'));\n      viewport = viewportNew;\n    }\n  })\n);\n","import {getViewport} from '../helper';\n\nexport const menu = function () {\n  const QUERY = {\n    body: 'body',\n    menu: '.menu',\n    menuBtn: '.menu__btn',\n    open: 'open',\n    closed: 'closed',\n    isOpen: 'is-open',\n    isClosed: 'is-closed',\n    isLoading: 'is-loading',\n    hasMenuOpen: 'has-menu-open',\n    menuCookie: 'menu-state',\n  };\n\n  const menuState = sessionStorage.getItem(QUERY.menuCookie);\n\n  const $body = document.querySelector(QUERY.body);\n  const $menu = document.querySelector(QUERY.menu);\n  const $menuBtn = document.querySelector(QUERY.menuBtn);\n\n  const open = function () {\n    $menu.classList.add(QUERY.isOpen);\n    $menu.classList.remove(QUERY.isClosed);\n    $body.classList.add(QUERY.hasMenuOpen);\n    sessionStorage.setItem(QUERY.menuCookie, QUERY.open);\n  };\n\n  const close = function () {\n    $menu.classList.add(QUERY.isClosed);\n    $menu.classList.remove(QUERY.isOpen);\n    $body.classList.remove(QUERY.hasMenuOpen);\n    sessionStorage.setItem(QUERY.menuCookie, QUERY.closed);\n  };\n\n  const onMenuBtnClick = function () {\n    if ($menu.classList.contains(QUERY.isOpen)) {\n      close();\n    } else if ($menu.classList.contains(QUERY.isClosed)) {\n      open();\n    }\n  };\n\n  const bindEvents = function () {\n    $menuBtn.addEventListener('click', onMenuBtnClick.bind(this));\n    window.addEventListener('viewportchange', function () {\n      if (getViewport() === 'desktop') {\n        open();\n      } else {\n        close();\n      }\n    });\n  };\n\n  const init = function () {\n    if (getViewport() !== 'desktop') {\n      close();\n    } else {\n      if (menuState === null || menuState === QUERY.open) {\n        open();\n      } else {\n        close();\n      }\n    }\n\n    $body.classList.remove(QUERY.isLoading);\n  };\n\n  if ($menu \u0026\u0026 $menuBtn) {\n    bindEvents();\n    init();\n  }\n};\n","import {getContainerWidth} from '../helper';\n\nexport const modal = function () {\n    const QUERY = {\n        modal: '.modal',\n        closeBtn: '.modal__close-btn',\n        figure: '.figure',\n        svgFigure: 'figure--svg',\n        svg: 'svg',\n        original: 'original',\n        figcaption: 'figcaption',\n        isHidden: 'is-hidden',\n        link: 'a'\n    }\n\n    const $modal = document.querySelector(QUERY.modal);\n    const $figures = document.querySelectorAll(QUERY.figure);\n    const $closeBtn = $modal.querySelector(QUERY.closeBtn);\n\n    const createFigure = function ($fig) {\n        const imageSrc = $fig.querySelector(QUERY.link).href;\n        const imageOrientation = $fig.dataset.orientation;\n        const style = $fig.classList.contains(QUERY.svgFigure) ? QUERY.svg : QUERY.original;\n\n        const $image = document.createElement('img');\n\n        $image.classList.add(style);\n        $image.src = imageSrc;\n\n        if (imageOrientation) {\n            $image.classList.add(imageOrientation);\n        }\n\n        return $image;\n    }\n\n    const onFigureClicked = function ($figure, event) {\n\n      if (getContainerWidth() \u003e= 1024) {\n        event.preventDefault();\n\n        const $figcaptionClone = $figure.querySelector(QUERY.figcaption).cloneNode(true);\n        $modal.querySelector('.modal__figure').replaceChildren(createFigure($figure), $figcaptionClone);\n        $modal.classList.remove(QUERY.isHidden);\n      }\n    }\n\n    const init = function () {\n        $figures.forEach($figure =\u003e {\n            $figure.addEventListener('click', onFigureClicked.bind(this, $figure));\n        })\n\n        $closeBtn.addEventListener('click', function () {\n            $modal.classList.add(QUERY.isHidden);\n        })\n\n        $modal.addEventListener('click', function (event) {\n            if (event.target === $modal) {\n                $modal.classList.add(QUERY.isHidden);\n            }\n        })\n    }\n\n    if ($modal \u0026\u0026 $figures \u0026\u0026 $closeBtn) {\n        init();\n    }\n}","export const themeSwitcher = function () {\n    const QUERY = {\n        html: 'html',\n        themeBtn: '.header__theme-btn',\n        darkTheme: 'dark',\n        lightTheme: 'light',\n        themeCookie: 'theme-state',\n        prefersDark: '(prefers-color-scheme: dark)'\n    }\n\n    const $root = document.querySelector(QUERY.html);\n    const $themeSwitcher = document.querySelector(QUERY.themeBtn);\n\n    const systemInitiatedDark = window.matchMedia(QUERY.prefersDark);\n    const themeState = sessionStorage.getItem(QUERY.themeCookie);\n\n    const activateDarkTheme = function () {\n        $root.classList.add(QUERY.darkTheme);\n        $root.classList.remove(QUERY.lightTheme);\n        sessionStorage.setItem(QUERY.themeCookie, QUERY.darkTheme);\n    }\n\n    const activateLightTheme = function () {\n        $root.classList.add(QUERY.lightTheme);\n        $root.classList.remove(QUERY.darkTheme);\n        sessionStorage.setItem(QUERY.themeCookie, QUERY.lightTheme);\n    }\n\n    const changeMode = function (isDarkModeActivated: boolean) {\n        if (isDarkModeActivated) {\n            activateDarkTheme();\n        } else {\n            activateLightTheme();\n        }\n    }\n\n    const bindEvents = function () {\n        if ($themeSwitcher) {\n            $themeSwitcher.addEventListener('click', function () {\n                changeMode(!$root.classList.contains(QUERY.darkTheme));\n            })\n        }\n    }\n\n    const init = function () {\n        if (!!themeState) {\n            changeMode(themeState === QUERY.darkTheme);\n        } else {\n            changeMode(systemInitiatedDark.matches);\n        }\n    }\n\n    init();\n    bindEvents();\n};","import { menu } from './components/menu';\nimport { modal } from './components/modal'\nimport { themeSwitcher } from './components/theme-switcher';\n\nwindow.addEventListener('load', function () {\n    menu();\n    modal();\n    themeSwitcher();\n});"],"mappings":"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","names":["viewport","getViewport","getViewportWidth","getContainerWidth","debounce","callback","timer","event","currentViewport","vw","viewportNew","menu","QUERY","menuState","$body","$menu","$menuBtn","open","close","onMenuBtnClick","bindEvents","getViewport","init","modal","QUERY","$modal","$figures","$closeBtn","createFigure","$fig","imageSrc","imageOrientation","style","$image","onFigureClicked","$figure","event","getContainerWidth","$figcaptionClone","themeSwitcher","QUERY","$root","$themeSwitcher","systemInitiatedDark","themeState","activateDarkTheme","activateLightTheme","changeMode","isDarkModeActivated","bindEvents","menu","modal","themeSwitcher"]}