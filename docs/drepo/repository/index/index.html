<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="dRepo team">
<meta name="description" content="A permissionless Tree The index is a smart contract on a permissionless blockchain. It manages the relationships between authors, groups, packages and releases. Figure X shows said relationship.
Within the repository, groups are the top-level entities. Each of them is identified by a unique name and contains a collection of packages. These packages are themselves also labeled with a unique name within the given group. Releases within each package are again identified by a version string which is unique to the package." />
<meta name="keywords" content="decentralized software repository, dRepo, software repository, repository, software, decentralized" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="black" media="(prefers-color-scheme: dark)" />
<link rel="canonical" href="http://drepo.eth/drepo/repository/index/" />
<link rel="icon" type="image/x-icon" href="/images/logo-without-text.svg" />


    <title>
        
            Index :: dRepo.eth - Decentralized Software Repository 
        
        
            !! DRAFT BUILD !!
        
    </title>





<link rel="stylesheet" href="/main.20204923e887f085b92822966450e032f929ea417818e7ce7827047f1484e3bf.css">







<script src="/js/before.js" integrity="sha512-&#43;L0Ms6CBZV5hb6kqDqnmpDLRU7Q/hrxVXDPEj26gRfTkD9&#43;SvuMoIzLzgyH5trJ5mnguYbonJK9fhAy0TzDkiQ=="></script>

<meta itemprop="name" content="Index">
<meta itemprop="description" content="A permissionless Tree The index is a smart contract on a permissionless blockchain. It manages the relationships between authors, groups, packages and releases. Figure X shows said relationship.
Within the repository, groups are the top-level entities. Each of them is identified by a unique name and contains a collection of packages. These packages are themselves also labeled with a unique name within the given group. Releases within each package are again identified by a version string which is unique to the package."><meta itemprop="datePublished" content="2023-01-06T17:03:20+01:00" />
<meta itemprop="dateModified" content="2023-03-01T21:25:41+01:00" />
<meta itemprop="wordCount" content="1301">
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Index"/>
<meta name="twitter:description" content="A permissionless Tree The index is a smart contract on a permissionless blockchain. It manages the relationships between authors, groups, packages and releases. Figure X shows said relationship.
Within the repository, groups are the top-level entities. Each of them is identified by a unique name and contains a collection of packages. These packages are themselves also labeled with a unique name within the given group. Releases within each package are again identified by a version string which is unique to the package."/>







    <meta property="article:published_time" content="2023-01-06 17:03:20 &#43;0100 &#43;0100" />



    </head>

    <body class="is-loading">
        <aside class="menu">
  <button class="menu__btn">
    <span class="menu__burger"></span>
  </button>
  <div class="menu__headline-wrapper">
    <i class="bi bi-triangle-fill" aria-hidden="true"></i>
    <h2 class="menu__headline">Index</h2>
  </div>
  <nav class="menu__nav">
    <ol class="menu__nav-list"><li class="menu__nav-item ">
        
        <span class="menu__link">Introduction</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/intro/problem/">The Problem</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/intro/securing-supply-chain/">Securing The Supply Chain</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">(De-)centralization</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/decentralization/centralization/">Centralization</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/decentralization/decentralization/">Decentralization</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">Existing Repos</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/existing-repos/properties/">Properties</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/existing-repos/centralized/">Centralized</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/existing-repos/mirrored/">Mirrored</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/existing-repos/warez/">Warez</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/existing-repos/verification/">Verification</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item  is-active">
        
        <span class="menu__link">Decentralized Repository</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/repository/architecture/">Architecture</a>
          </li><li class="menu__sub-nav-item  is-active">
            <a class="menu__sub-link" href="/drepo/repository/index/">Index</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/repository/storage/">Storage</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">Expanded Repository</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/expanded/build-verification/">Build Verification Network</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/expanded/review/">Review Network</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/expanded/incentives/">Incentives</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">Next: Web 3.1</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/web3.1/witnessable-apps/">Witnessable Apps</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/web3.1/going-decentralized/">Going Decentralized</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/web3.1/bring-your-own/">Bring Your Own Software</a>
          </li>
        </ol>
        
      </li>
    </ol>
  </nav>

</aside>


        <div class="container">
            
                
<header class="header">
    <div class="header__wrapper">
        <a class="header__home" href="/">
            
            <img class="header__logo" src="/images/logo-without-space.svg" alt="">
            
            <img class="header__logo--mobile" src="/images/logo-without-text.svg" alt="">
        </a>
        <div class="header__actions">
            <div class="header__theme">
                <i class="bi bi-brightness-high-fill" aria-hidden="true"></i>
                <button class="header__theme-btn" title="Click here to change theme" aria-label="Click here to change theme">
                    <span class="header__theme-circle"></span>
                </button>
                <i class="bi bi-moon" aria-hidden="true"></i>
            </div>
            <a class="header__contact header__contact--github" href="https://github.com/drepo-eth" target="_blank" title="Visit our github">
                <i class="bi bi-github" aria-hidden="true"></i>
            </a>
            <a class="header__contact header__contact--mail" href="mailto:drepo.eth@protonmail.com" title="Wirte us an email">
                <i class="bi bi-envelope" aria-hidden="true"></i>
            </a>
        </div>

</div>
</header>

            

            <main class="main">
                
  <h1 class="headline--h1">Index</h1>

  <div class="content">
    <h2 id="a-permissionless-tree">A permissionless Tree 
  <a class="anchor" href="#a-permissionless-tree">
    <i class="bi bi-link-45deg"></i>
  </a>
</h2><!-- raw HTML omitted -->
<p>The index is a <em>smart contract</em> on a <em>permissionless blockchain</em>.
It manages the relationships between <em>authors</em>, <em>groups</em>, <em>packages</em> and
<em>releases</em>.
Figure X shows said relationship.</p>
<!-- raw HTML omitted -->
<p>Within the repository, groups are the top-level entities.
Each of them is identified by a unique name and contains a collection of
packages.
These packages are themselves also labeled with a unique name within the given
group.
Releases within each package are again identified by a version string which is
unique to the package.
This is the content structure that is typical for software repositories.</p>
<p>A group and thus all packages within it are owned by a single owner.
They are the only ones who can create new packages and releases within their
owned group.
Furthermore, a release contains a list of <em>content strings</em> which point to
files and other information belonging to the release.</p>
<p>The name and version strings should follow generall naming patterns, e.g.
<a href="https://semver.org/" title="SemVer" target="_blank">SemVer</a>.
The index could implement basic rules to enforce proper names but should not go
into too much detail as this might prevent future changes.
Likewise, the content strings in each release should not be restricted at all
as upcoming link or data formats might incorporate peculiar standards.</p>
<h2 id="simple-trustless-immutable">Simple, Trustless, Immutable 
  <a class="anchor" href="#simple-trustless-immutable">
    <i class="bi bi-link-45deg"></i>
  </a>
</h2><p>For the system to be truely <em>trustless</em>, the contract must be <em>public</em> and
<em>immutable</em>.
Published data cannot be changed or removed and the actual repository code
cannot be modfied after its deployment.
There is no third party or overseeing institution involved to publish or
retrieve release information.
Due to the permissionless and pseudo-anonymous nature of current public
blockchains like <a href="https://ethereum.org/" title="Ethereum" target="_blank">Ethereum</a> anyone can
interact with such an index contract without disclosing further information and
without censorship.</p>
<p>Users can view and verify the code of the index.
This allows them to evaluate the security of the source code for themselves.
The contract code will forever<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> execute in the same, predictable way.
It is a &rsquo;trusted&rsquo; source of information in a trustless manner built upon
<em>cryptographic truth</em>.</p>
<p>Smart contract code is generally immutable.<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>
The implementation of the index smart contract must thus stay <em>simple</em> only
offering a <em>minimal feature</em> set to prevent bugs and other possible exploits.
At the same time, it must be future proof, compatible with new technologies,
and allow integration with external, exisiting tooling.</p>
<p>Non-basic features like advanced data validation or user and role management
should be externalized from the base implementation.
On-chain proxy contract setups could be used to provide more elaborate
functionalities while leaving the original implementation untouched.
Furthermore, this allows users to opt out of these features and interact with
the orginal index directly.<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>
It is up to each community member to decide for themselves how to interact with
the system.</p>
<p>Using an upgradable proxy to allow code changes to the index should be avoided.
Such a mechanism might be exploited to introduce malicious changes either by
applying pressure to admins or by over taking a potential
<a href="https://en.wikipedia.org/wiki/Decentralized_autonomous_organization" title="Decentralized Autonomous Organization" target="_blank">DAO</a>.
However, in an early introduction phase such a setup might help to fix bugs in
the new system, especially if not enough audits were conducted.
Eventually, the upgrade feature should be permanently disabled.
This removes the human factor as a security risk from the system.
Additionally, it removes liability concernes as human administrators or DAO
members might be held responsible by nation states for the content or the
processes of the system if they can have any influence on it.</p>
<h2 id="interaction">Interaction 
  <a class="anchor" href="#interaction">
    <i class="bi bi-link-45deg"></i>
  </a>
</h2><h3 id="claim-a-group">Claim a Group 
  <a class="anchor" href="#claim-a-group">
    <i class="bi bi-link-45deg"></i>
  </a>
</h3><p>Users can claim any available group by its name.
The system employs a &ldquo;first come, first served&rdquo; approach.
After a successful claim they become the owners of the respective group.
However, only one user account can be the owner and there are no other roles
besides the owner role.
This is due to the aforementioned simplicity concernes and more elaborate
schemes can be employed through external components.</p>
<p>The ownership and all writing permissions are bound to the single owner
account.
However, the ownership is transfereble to other accounts.
If access to the owner account is lost or the ownership was transfered to an
inaccessible account, the group becomes effectively locked and thus immutable.
The core system does explicitly not include any sort of recovery mechanism.</p>
<p>As the claiming process is public and trustless, it is possible that users will
register group names with the intention to flip them on secondary markets.
Thus the introduction of a registration fee might be worth considering to
prevent spamming behaviour.</p>
<h3 id="create-a-release">Create a Release 
  <a class="anchor" href="#create-a-release">
    <i class="bi bi-link-45deg"></i>
  </a>
</h3><p>The owner of a group can create new releases of a given package.
The package itself is not created explicitly but implicity by creating a first
release version.
Each release contains a version string and a set of content references.
These references point to artifacts belonging to the release: build artifacts,
source code, documentation, website, etc.
Furthermore, each artifact must have at least one checksum or digital signature
to verify the validity of a downloaded artifact.</p>
<p>Once a content string is added to a release it cannot be removed or changed.
However, additional content references can be added by the owner at any time.
This allows them to invalidate previous references if such a convention is
established in connected clients.
It is the clients responsibility to filter the information in the index for
data they can process or prefer: trying to download artifacts from
decentralized sources before using a centralized one or download only from
centralized sources and compare checksums.</p>
<h3 id="nuke-a-release">Nuke a Release 
  <a class="anchor" href="#nuke-a-release">
    <i class="bi bi-link-45deg"></i>
  </a>
</h3><p>As release information is immutable but software and releases are still made by
humans, there has to be a way to flag invalid or broken releases.
In the WAREZ scene there is mechanism called <em>Nuke</em>, in Python&rsquo;s PyPi and
Rust&rsquo;s Cargo a similar concept is called <em>Yank</em>.
All of them describe a feature which flags a release as &lsquo;invalid&rsquo;.
However, the original data is not deleted from the repository.
Thus, the artifacts are still available if someone wants to download exactly
these files.
Clients like Cargo will not propose a flagged release when adding a new
dependency to your project and most likely warn you if you are already using
one.</p>
<p>The decentralized repository uses the name <em>nuke</em> due to its affiliation with
the WAREZ scene.
Each release can be flagged by the owner as nuked at any time after its
publication.
Additionally, futher references can be added to the content to describe the
reasoning for pulling a given release.
Once a release is marked as nuked this state <strong>cannot be reverted</strong>.
The index itself does not provide any further information or features besides
the flag.
From an API point, there is no filtering of nuked releases.
Release information stays available despite of its state.
It is up to clients to provide filtering and further processing of invalidated
release packages.</p>
<h2 id="migration">Migration 
  <a class="anchor" href="#migration">
    <i class="bi bi-link-45deg"></i>
  </a>
</h2><p>The introduction of a new index must be carefully prepared.
Extensive audits of the code must be conducted before a final index registry
can be deployed.
This process might be eased by introducing upgradability to the code base while
the system is still in its early days.
However, such upgradability must the carefully and responsibly governed and
finally be removed.
As mentioned before, a governance board or a DAO would be suited in this
transitional phase.</p>
<p>Apart from the runtime code safety, proper data migration from existing
repositories is of the upmost importance.
Errors could lead to security issues throughout the ecosystem if groups and
packages are not mapped to the correct owners.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>As long a the blockchain and software development exists and the
blockchain does not fundamentally changes how code works within their
execution layer.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>We ignore <code>selfdestruct</code> here for simplicity.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>A proxy implementation might be controlled by a centralized entity
or put up barriers not all community members agree with. Instead of being
locked out of the ecosystem they can still participate directly at the
root.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

  </div>


            </main>

            
                


<div class="pager">
  
  
  <a href="/drepo/repository/architecture/" class="pager__prev">
    <i aria-hidden="true"> &lt; </i>
  </a>
  
  

  


  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  




<span class="pager__counter" aria-label="Page 11 of 18">
  11 / 18
</span>


  
  
  <a href="/drepo/repository/storage/" class="pager__next">
    <i aria-hidden="true"> > </i>
  </a>
  
  
</div>


            

            
                <footer class="footer">
  <div class="footer__credit">
    <h4 class="footer__heading">This site is based on </h4>
    <ul>
      <li>
        <span class="title">
          <a href="https://github.com/FanXuX/masterthesis">
            Konzept eines universellen,
            dezentralen Software Repository's und dessen Adaption im
            NPM-Frontend-Ökosystem</a>
        </span>
        (Concept of a univseral, decentralized software
        Repository and its application in the NPM-frontend-ecosystem) by
        <span class="autor">
          Fan Xu
        </span>
        (<a href="https://fanxu.de/">website</a>
        |
        <a href="https://github.com/FanXuX">github</a>)
      </li>
      <li>
        <span class="title">
          An Architecture of a Dezentralized Software Repository
        </span>
        by
        <span class="author">Fan Xu</span>
        and
        <span class="author">Jan Himmelspach</span>
      </li>
    </ul>
  </div>

  <div class="footer__resources">
    <h4 class="footer__heading">Further resources:</h4>
    <ul>
      <li>
        <a href="https://github.com/FanXuX/drepo-contracts">Index Prototype v0</a>
      </li>
    </ul>
  </div>

  
<div class="gitinfo">
  <div class="git-version">
    Version: <span class="git-version-hash">6de4e37dedf5a169998d7f52b6713da759b2d958</span>
  </div>
  <div class="git-lastmod">
    Last Change: <span class="git-lastmod-date">2023-03-01 20:25:41 &#43;0000 UTC</span>
  </div>
</div>


</footer>

            
        </div>

        
            <div class="modal is-hidden">
  <div class="modal__content">
    <button class="modal__close-btn">
      <i class="bi bi-x-lg" aria-hidden="true"></i>
    </button>
    <figure class="modal__figure"></figure>
  </div>
</div>


        

        



<script src="/js/main.js" integrity="sha512-VbG9POd1RGkrQ4lXn4lf5um87a9OVJbVopJVuMLmGe4VdPIi5gx8mG/x31i79uYmq4tKHHbu3Toj8mUyc9rYDw=="></script>

    </body>


</html>
