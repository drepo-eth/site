<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="dRepo team">
<meta name="description" content="The decentralized repository is separated into an index and a storage component. Both exist independently from each other, allowing flexibility in the future. The index stores metadata about software releases and points to various storage solutions holding the actual artifacts." />
<meta name="keywords" content="decentralized software repository, dRepo, software repository, repository, software, decentralized, index, storage, ethPM, warez, separation, resilience, scalability" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="black" media="(prefers-color-scheme: dark)" />
<link rel="canonical" href="https://drepo.dev/drepo/repository/architecture/" />
<link rel="icon" type="image/x-icon" href="../../../images/logo-without-text.svg" />


    <title>
        
            Architecture :: dRepo.eth - Decentralized Software Repository 
        
        
            !! DRAFT BUILD !!
        
    </title>





<link rel="stylesheet" href="../../../main.cb46da16364c8b429db420740afec89e405bfec2130390d15c2556bebdebd066.css">







<script src="../../../js/before.js" integrity="sha512-ECMMNvtqQFESb2iigHjo&#43;oNklW6knY0HOL2z9XIsNGOkXGbAl27cOBZrMzjFkMfj1Mn7yg4fLHbePWB&#43;dOnNBQ=="></script>

<meta itemprop="name" content="Architecture">
<meta itemprop="description" content="The decentralized repository is separated into an index and a storage component. Both exist independently from each other, allowing flexibility in the future. The index stores metadata about software releases and points to various storage solutions holding the actual artifacts."><meta itemprop="datePublished" content="2023-01-06T17:03:14+01:00" />
<meta itemprop="dateModified" content="2024-02-23T11:13:46+01:00" />
<meta itemprop="wordCount" content="800">
<meta itemprop="keywords" content="index,storage,ethPM,warez,separation,resilience,scalability," />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Architecture"/>
<meta name="twitter:description" content="The decentralized repository is separated into an index and a storage component. Both exist independently from each other, allowing flexibility in the future. The index stores metadata about software releases and points to various storage solutions holding the actual artifacts."/>







    <meta property="article:published_time" content="2023-01-06 17:03:14 &#43;0100 &#43;0100" />



    </head>

    <body class="is-loading">
        <aside class="menu">
  <button class="menu__btn">
    <span class="menu__burger"></span>
  </button>
  <div class="menu__headline-wrapper">
    <i class="bi bi-triangle-fill" aria-hidden="true"></i>
    <h2 class="menu__headline">Index</h2>
  </div>
  <nav class="menu__nav">
    <ol class="menu__nav-list"><li class="menu__nav-item ">
        
        <span class="menu__link">Introduction</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/intro/problem/">The Problem</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/intro/securing-supply-chain/">Securing The Supply Chain</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">(De-)centralization</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/decentralization/centralization/">Centralization</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/decentralization/decentralization/">Decentralization</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">Existing Repos</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/existing-repos/properties/">Common Properties</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/existing-repos/centralized/">Centralized</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/existing-repos/mirrored/">Mirrored</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/existing-repos/warez/">Warez</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/existing-repos/verification/">Verification</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item  is-active">
        
        <span class="menu__link">Decentralized Repository</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item  is-active">
            <a class="menu__sub-link" href="../../../drepo/repository/architecture/">Architecture</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/repository/the-index/">The Index</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/repository/storage/">Storage</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">Expanded Repository</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/expanded/build-verification/">Build Verification Network</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/expanded/review/">Review Network</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/expanded/incentives/">Incentives</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">Next: Web 3.1</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/web3.1/witnessable-apps/">Witnessable Apps</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/web3.1/going-decentralized/">Going Decentralized</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="../../../drepo/web3.1/bring-your-own/">Bring Your Own Software</a>
          </li>
        </ol>
        
      </li>
    </ol>
  </nav>

</aside>


        <div class="container">
            
                
<header class="header">
  <div class="header__content">
    <div class="header__wrapper">
      <a class="header__home" href="../../../">
        
        <img class="header__logo" src="../../../images/logo-without-space.svg" alt="" />
        
        <img class="header__logo--mobile" src="../../../images/logo-without-text.svg" alt="" />
      </a>
      <div class="header__actions">
        <div class="header__theme">
          <i class="bi bi-brightness-high-fill" aria-hidden="true"></i>
          <button
            class="header__theme-btn"
            title="Click here to change theme"
            aria-label="Click here to change theme"
          >
            <span class="header__theme-circle"></span>
          </button>
          <i class="bi bi-moon" aria-hidden="true"></i>
        </div>
        <a
          class="header__contact header__contact--github"
          href="https://github.com/drepo-eth"
          target="_blank"
          title="Visit our github"
        >
          <i class="bi bi-github" aria-hidden="true"></i>
        </a>
        <a
          class="header__contact header__contact--mail"
          href="mailto:drepo.eth@protonmail.com"
          title="Wirte us an email"
        >
          <i class="bi bi-envelope" aria-hidden="true"></i>
        </a>
      </div>
    </div>
  </div>
</header>

            

            <main class="main">
                
  <h1 class="headline--h1">Architecture</h1>

  <div class="content">
    <h2 id="inspiration">Inspiration 
  <a class="anchor" href="#inspiration">
    <i class="bi bi-link-45deg"></i>
  </a>
</h2><p>The decentralized repository is heavily inspired by
<a href="https://www.ethpm.com/" title="ethPM" target="_blank">ethPM</a> and the infrastructure in the <em>WAREZ</em>
community. The latter has been proven resilient and efficient<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> over the
past decades.</p>
<p>Looking at the WAREZ Scene on BitTorrent or Usenet, there is always a separation
between the actual files and a search index. While the files live on the
BitTorrent network or in newsgroups, respectively, the search index is typically
a website or another separate application. The other one still exists if the
files or the index becomes unavailable. Given the <a href="../../../drepo/existing-repos/warez/" title="WAREZ">many-to-many relationship</a> between content and indices, the system
can scale and is resilient at the same time.</p>
<p>This is particularly true for partially centralized systems like the Usenet and
the usage of public file hosters. Due to DMCA take-downs and similar processes,
content must be reposted either in original or obfuscated form.</p>
<p><em>ethPM</em> proposed the creation of <em>federated smart contracts</em> on <em>Ethereum</em>,
which act as on-chain registries. Each project is supposed to create and
maintain its own registry. They contain a minimal amount of data points: package
name, version, and a link to more metadata. The metadata is stored off-chain and
should be referenced via a content-addressed URI. It points to a <em>JSON</em> file
that contains more information on a given smart contract software package: Link
to the source code, version, deployments, etc.</p>
<p>Users of ethPM need to compile a set of trusted registries themselves. There is
no single entry point for the system defined. Each registry must implement the
<a href="https://eips.ethereum.org/EIPS/eip-1319" title="ERC-1319" target="_blank">ERC-1319</a> interface, but
the concrete implementation is up to the maintainer. This means that admins
could potentially change the current state of the registry and, for example,
remove invalid or flawed releases after publication. However, previous states
can be recovered due to the nature of the blockchain.</p>
<p>As the initial metadata is stored on-chain, the system can become
censorship-resistant as the information cannot be removed. Furthermore, if the
metadata and subsequent payloads are stored decentralized, they cannot be
deleted as well.</p>
<p>Apart from the <a href="../../../drepo/existing-repos/properties/" title="Repository Features">standard repository features</a>, the <em>dRepo</em> uses <em>separation</em>
defined in these two repository systems. Additionally, leveraging a permissionless
blockchain, like ethPM proposes, adds convenience and security to the system.</p>
<h2 id="separation">Separation 
  <a class="anchor" href="#separation">
    <i class="bi bi-link-45deg"></i>
  </a>
</h2><p>The decentralized repository&rsquo;s core is separated in an <em>Index</em> and a <em>Storage</em>
component. This separation allows the usage of fitting technologies for each of
these concerns while also propagating spatial partitioning and, thus,
decentralization. Simply, a software package&rsquo;s metadata is stored differently
and on other systems from the actual packages.</p>
<p>Furthermore, the core is defined as a minimal protocol open to extension. This
allows software ecosystems to add rules and conventions to fit their needs. This
openness makes it also usable in the future as long as the software development
fundamentals do not change.</p>
<p>Generally, the index component is a package registry on a permissionless smart
contract blockchain that only holds metadata and location information on
software packages. It allows a basic search within a tree structure of entries
and gives authors a minimal set of functions to manage publications. In
addition, the index is append-only, so neither authors nor any other party can
remove or overwrite information after it is published.</p>
<p>A unified index allows users to quickly find packages without searching various
sources, which entails verifying each given source. Each ecosystem, e.g., Maven
Packages, Docker Images, etc., should host their own index with preferred
customizations and conventions. Besides the unified approach, proxies and
federated setups are also possible if they fit the needs of an ecosystem or
users better.</p>
<p>The storage component is not an actual software component like the index.
Instead, it is a collection of various data sources spread across multiple
networks and systems. This might include decentralized storage solutions like
<em>BitTorrent</em> or <em>IPFS</em> or centralized storage like <em>AWS S3</em>, <em>GitHub</em>, or
existing repositories. This allows authors and users to pick their favorite or
best-fitting source. Furthermore, distributing files and thus creating
redundancy offers higher availability. Finally, as with the index, not
committing to a single distribution system allows the repository to adopt new
technologies in the future without fundamentally changing the base protocol.</p>






<figure class="figure figure--svg">
  <a href="architecture.excalidraw.svg" target="_blank">
    <img src="../../../drepo/repository/architecture/architecture.excalidraw.svg" alt="dRepo Architecture" />
  </a>
  <figcaption>
    <p>dRepo Architecture: The system is separated into an index and a storage component. The index is a smart contract on a permissionless blockchain holding software package metadata and managing publications. Each package points to multiple resources across various storage solutions.</p>
  </figcaption>
</figure>

<p>Separating index and storage into open, almost self-sufficient units creates a
highly flexible system. For instance, each component could be switched out for
another implementation or protocol while the other can continue to work without
significant interruption: moving the index from a blockchain to a new safe
system does not impact stored files on IPFS and adding a new storage system does
not invalidate existing entries within the index.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>File sharing and such brought the music industry almost to its knees.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

  </div>


            </main>

            
                


<div class="pager">
  
  
  <a href="../../../drepo/existing-repos/verification/" class="pager__prev">
    <i aria-hidden="true"> &lt; </i>
  </a>
  
  

  


  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  




<span class="pager__counter" aria-label="Page 10 of 18">
  10 / 18
</span>


  
  
  <a href="../../../drepo/repository/the-index/" class="pager__next">
    <i aria-hidden="true"> > </i>
  </a>
  
  
</div>


            

            
                <footer class="footer">
  <div class="footer__content">
    <div class="footer__credit">
      <h4 class="footer__heading">This site is based on </h4>
      <ul>
        <li>
          <span class="title">
            <a href="https://github.com/FanXuX/masterthesis">
              Konzept eines universellen,
              dezentralen Software Repository's und dessen Adaption im
              NPM-Frontend-Ökosystem</a>
          </span>
          (Concept of a univseral, decentralized software
          Repository and its application in the NPM-frontend-ecosystem) by
          <span class="autor">
            Fan Xu
          </span>
          (<a href="https://fanxu.de/">website</a>
          |
          <a href="https://github.com/FanXuX">github</a>)
        </li>
        <li>
          <span class="title">
            An Architecture of a Dezentralized Software Repository
          </span>
          by
          <span class="author">Fan Xu</span>
          and
          <span class="author">Jan Himmelspach</span>
        </li>
        <li>
          <span class="title">
            Brand and web design by Amran Salleh
          </span>
        </li>
      </ul>
    </div>

    <div class="footer__resources">
      <h4 class="footer__heading">Further resources:</h4>
      <ul>
        <li>
          <a href="https://github.com/FanXuX/drepo-contracts">Index Prototype v0</a>
        </li>
        <li>
          <a href="https://github.com/drepo-eth/drepo-index-prototype-v1">Index Prototype v1</a>
        </li>
        <li>
          
<div class="gitinfo">
  <div class="git-version">
    Version: <span class="git-version-hash">282ace14cd82831d35dadbafefc617655b455cbb</span>
  </div>
  <div class="git-lastmod">
    Last Change: <span class="git-lastmod-date">2024-02-23 10:13:46 &#43;0000 UTC</span>
  </div>
</div>


        </li>
      </ul>
    </div>
  </div>
</footer>
            
        </div>

        
            <div class="modal is-hidden">
  <div class="modal__content">
    <button class="modal__close-btn">
      <i class="bi bi-x-lg" aria-hidden="true"></i>
    </button>
    <figure class="modal__figure"></figure>
  </div>
</div>


        

        



<script src="../../../js/main.js" integrity="sha512-Pe7BqBryNSU1/MBhE3fEAnBZh0QzkK0LQNC0/sbc6H7DtTX9LSFYGDUJ773c6pYdGz6QC1MGtDmuPvgdKkgrzw=="></script>

        

        
    </body>


</html>