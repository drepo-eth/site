<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="dRepo team">
<meta name="description" content="Inspiration The decentralized repository is heavily inspired by ethPM and the infrastructure in the WAREZ community. The latter one has been proven resilient and efficient1 over the past decades.
Looking at WAREZ Scene on BitTorrent or Usenet, there is always a separation between the actual files and a search index. While the files live on the BitTorrent network or in Usenet groups respectively, the search index is typically a website or another separate application." />
<meta name="keywords" content="decentralized software repository, dRepo, software repository, repository, software, decentralized" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="black" media="(prefers-color-scheme: dark)" />
<link rel="canonical" href="http://drepo.eth/drepo/repository/architecture/" />
<link rel="icon" type="image/x-icon" href="/images/logo-without-text.svg" />


    <title>
        
            Architecture :: dRepo.eth - Decentralized Software Repository 
        
        
            !! DRAFT BUILD !!
        
    </title>





<link rel="stylesheet" href="/main.24b10d417b8d9bf8f4d317cbc65d1e492ad9bc0f2577daa98819b48faa37ee4e.css">







<script src="/js/before.js" integrity="sha512-&#43;L0Ms6CBZV5hb6kqDqnmpDLRU7Q/hrxVXDPEj26gRfTkD9&#43;SvuMoIzLzgyH5trJ5mnguYbonJK9fhAy0TzDkiQ=="></script>

<meta itemprop="name" content="Architecture">
<meta itemprop="description" content="Inspiration The decentralized repository is heavily inspired by ethPM and the infrastructure in the WAREZ community. The latter one has been proven resilient and efficient1 over the past decades.
Looking at WAREZ Scene on BitTorrent or Usenet, there is always a separation between the actual files and a search index. While the files live on the BitTorrent network or in Usenet groups respectively, the search index is typically a website or another separate application."><meta itemprop="datePublished" content="2023-01-06T17:03:14+01:00" />
<meta itemprop="dateModified" content="2023-03-09T23:01:54+01:00" />
<meta itemprop="wordCount" content="790">
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Architecture"/>
<meta name="twitter:description" content="Inspiration The decentralized repository is heavily inspired by ethPM and the infrastructure in the WAREZ community. The latter one has been proven resilient and efficient1 over the past decades.
Looking at WAREZ Scene on BitTorrent or Usenet, there is always a separation between the actual files and a search index. While the files live on the BitTorrent network or in Usenet groups respectively, the search index is typically a website or another separate application."/>







    <meta property="article:published_time" content="2023-01-06 17:03:14 &#43;0100 &#43;0100" />



    </head>

    <body class="is-loading">
        <aside class="menu">
  <button class="menu__btn">
    <span class="menu__burger"></span>
  </button>
  <div class="menu__headline-wrapper">
    <i class="bi bi-triangle-fill" aria-hidden="true"></i>
    <h2 class="menu__headline">Index</h2>
  </div>
  <nav class="menu__nav">
    <ol class="menu__nav-list"><li class="menu__nav-item ">
        
        <span class="menu__link">Introduction</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/intro/problem/">The Problem</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/intro/securing-supply-chain/">Securing The Supply Chain</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">(De-)centralization</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/decentralization/centralization/">Centralization</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/decentralization/decentralization/">Decentralization</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">Existing Repos</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/existing-repos/properties/">Properties</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/existing-repos/centralized/">Centralized</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/existing-repos/mirrored/">Mirrored</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/existing-repos/warez/">Warez</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/existing-repos/verification/">Verification</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item  is-active">
        
        <span class="menu__link">Decentralized Repository</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item  is-active">
            <a class="menu__sub-link" href="/drepo/repository/architecture/">Architecture</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/repository/index/">Index</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/repository/storage/">Storage</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">Expanded Repository</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/expanded/build-verification/">Build Verification Network</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/expanded/review/">Review Network</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/expanded/incentives/">Incentives</a>
          </li>
        </ol>
        
      </li><li class="menu__nav-item ">
        
        <span class="menu__link">Next: Web 3.1</span>
        <ol class="menu__sub-nav-list">
          <li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/web3.1/witnessable-apps/">Witnessable Apps</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/web3.1/going-decentralized/">Going Decentralized</a>
          </li><li class="menu__sub-nav-item ">
            <a class="menu__sub-link" href="/drepo/web3.1/bring-your-own/">Bring Your Own Software</a>
          </li>
        </ol>
        
      </li>
    </ol>
  </nav>

</aside>


        <div class="container">
            
                
<header class="header">
    <div class="header__wrapper">
        <a class="header__home" href="/">
            
            <img class="header__logo" src="/images/logo-without-space.svg" alt="">
            
            <img class="header__logo--mobile" src="/images/logo-without-text.svg" alt="">
        </a>
        <div class="header__actions">
            <div class="header__theme">
                <i class="bi bi-brightness-high-fill" aria-hidden="true"></i>
                <button class="header__theme-btn" title="Click here to change theme" aria-label="Click here to change theme">
                    <span class="header__theme-circle"></span>
                </button>
                <i class="bi bi-moon" aria-hidden="true"></i>
            </div>
            <a class="header__contact header__contact--github" href="https://github.com/drepo-eth" target="_blank" title="Visit our github">
                <i class="bi bi-github" aria-hidden="true"></i>
            </a>
            <a class="header__contact header__contact--mail" href="mailto:drepo.eth@protonmail.com" title="Wirte us an email">
                <i class="bi bi-envelope" aria-hidden="true"></i>
            </a>
        </div>

</div>
</header>

            

            <main class="main">
                
  <h1 class="headline--h1">Architecture</h1>

  <div class="content">
    <h2 id="inspiration">Inspiration 
  <a class="anchor" href="#inspiration">
    <i class="bi bi-link-45deg"></i>
  </a>
</h2><p>The decentralized repository is heavily inspired by
<a href="https://www.ethpm.com/" title="ethPM" target="_blank">ethPM</a> and the infrastructure in the <strong>WAREZ</strong>
community.
The latter one has been proven resilient and efficient<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> over the past
decades.</p>
<p>Looking at WAREZ Scene on BitTorrent or Usenet, there is always a separation
between the actual files and a search index.
While the files live on the BitTorrent network or in Usenet groups
respectively, the search index is typically a website or another separate
application.
If either the files or the index gets taken down, the other one still exists.
Given that there is a <a href="http://drepo.eth/drepo/existing-repos/warez/" title="WAREZ">many-to-many relationship</a> between file content and indices the
system can scale and is resilient at the same time.</p>
<p>This is particularly true for partially centralized systems like the Usenet and
the usage of public file hosters.
Due to DMCA takedowns and similar processes content needs to be reposted
either in its original or in obfuscated form.</p>
<p><em>ethPM</em> proposed the creation of <em>federated smart contracts</em> on <em>Ethereum</em>
which act as on-chain registries.
Each project is supposed to create and maintain their own registry.
The registries contain a minimal set of data points, package name, version, and
a link to more metadata.
The metadata is stored off-chain and should be stored as a content addressed
URI.
It is represented as a <em>JSON</em> file which contains more information on a given
smart contract software package: link to the source code, verion, deployments,
etc.</p>
<p>Users of ethPM need to compile a set of trusted registries themselves.
There is no single entry point for the system defined.
Each registry must implement the
<a href="https://eips.ethereum.org/EIPS/eip-1319" title="ERC-1319" target="_blank">ERC-1319</a> interface but
concrete implementation is up to the maintainer.
This means that admins can potentially change the current state of the registry
and for example remove invalid or flawed releases afterwards.
However, previous states can be recovered due to the nature of the blockchain.</p>
<p>As the initial data is stored on-chain the system can become censorship
resistent as the information cannot be removed.
Futhermore, if the metadata and the subsequent payloads are stored in a
decentralized way, they can also not be removed.</p>
<p>Apart from the <a href="http://drepo.eth/drepo/existing-repos/properties/" title="Repository Features">&amp;lsquo;standard&amp;rsquo; repository features</a> the <em>dRepo</em> makes
use of the <em>separation</em> that is defined in these two repository systems.
Additionally, leveraging a permissionless blockchain like ethPM proposes adds
convenience and security to the system.</p>
<h2 id="separation">Separation 
  <a class="anchor" href="#separation">
    <i class="bi bi-link-45deg"></i>
  </a>
</h2><p>The <em>core</em> of the decentralized repository is separated in an <em>Index</em> and a
<em>Storage</em> component.
This separation allows the usage of fitting technologies for each of these
concerns while also propagating spatial partitioning and thus decentraliation.
In simple terms, metadata of a software package is stored in a different way
and on different systems from the actual packages.</p>
<p>Furthermore, the core is defined as a minimal protocol which is open to
extension.
This allows software ecosystems to add their own rules and conventions to fit
their needs.
This openness makes it also usable in the future as long as the software
development fundamentals do not change.</p>
<p>Generally, the index component is a package registry on a permissionless smart
contract blockchain which only holds metadata and location information on
software packages.
It allows a basic search within a tree structure of entries and gives authors a
minimal set of functions to manage publications.
The index is append only, so neither authors nor any other party can remove or
change information after it is published.</p>
<p>A unified index allows users to quickly find packages without searching various
sources and additionally verifying a given source.
Each ecosystem, e.g. Maven Packages, Docker Images, etc, should host their own
index with preferred customizations and conventions.
Besides the unified approach, proxies and federated setups are also possible if
that fits the needs of an ecosystem or users better.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>The storage component is not an actual software component like the index.
Instead, it is a collection of different sources of data spread across various
networks and systems.
This might include decentralized storage solutions like <em>BitTorrent</em> or <em>IPFS</em>
or centralized storage like <em>AWS S3</em>, <em>GitHub</em>, or existing repositories.
This allows authors and users to pick their favorite or best fitting source.
Furthermore, distributing files and thus creating redundancy causes higher
availablility.
As with the index, not commiting to a single distribution system allows the
repository to adopt new technologies in the future without fundamentally
changing the base protocol.</p>
<!-- raw HTML omitted -->
<p>Separating index and storage into open, almost self-sufficient units creates a
extremely flexible system.
Each component could be switched out for another implementation or protocol
while the other can continue work without major interruption: moving the
index from a blockchain to a new safe system does not impact stored files
on IPFS and adding a new storage system does not invalidate existing entries
within the index.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>File sharing and such brought the music industry almost to its knees.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

  </div>


            </main>

            
                


<div class="pager">
  
  
  <a href="/drepo/existing-repos/verification/" class="pager__prev">
    <i aria-hidden="true"> &lt; </i>
  </a>
  
  

  


  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  




<span class="pager__counter" aria-label="Page 10 of 18">
  10 / 18
</span>


  
  
  <a href="/drepo/repository/index/" class="pager__next">
    <i aria-hidden="true"> > </i>
  </a>
  
  
</div>


            

            
                <footer class="footer">
  <div class="footer__credit">
    <h4 class="footer__heading">This site is based on </h4>
    <ul>
      <li>
        <span class="title">
          <a href="https://github.com/FanXuX/masterthesis">
            Konzept eines universellen,
            dezentralen Software Repository's und dessen Adaption im
            NPM-Frontend-Ökosystem</a>
        </span>
        (Concept of a univseral, decentralized software
        Repository and its application in the NPM-frontend-ecosystem) by
        <span class="autor">
          Fan Xu
        </span>
        (<a href="https://fanxu.de/">website</a>
        |
        <a href="https://github.com/FanXuX">github</a>)
      </li>
      <li>
        <span class="title">
          An Architecture of a Dezentralized Software Repository
        </span>
        by
        <span class="author">Fan Xu</span>
        and
        <span class="author">Jan Himmelspach</span>
      </li>
    </ul>
  </div>

  <div class="footer__resources">
    <h4 class="footer__heading">Further resources:</h4>
    <ul>
      <li>
        <a href="https://github.com/FanXuX/drepo-contracts">Index Prototype v0</a>
      </li>
    </ul>
  </div>

  
<div class="gitinfo">
  <div class="git-version">
    Version: <span class="git-version-hash">9eba697cdeb25b620f8adac11726749b644830bb</span>
  </div>
  <div class="git-lastmod">
    Last Change: <span class="git-lastmod-date">2023-03-09 22:01:54 &#43;0000 UTC</span>
  </div>
</div>


</footer>

            
        </div>

        
            <div class="modal is-hidden">
  <div class="modal__content">
    <button class="modal__close-btn">
      <i class="bi bi-x-lg" aria-hidden="true"></i>
    </button>
    <figure class="modal__figure"></figure>
  </div>
</div>


        

        



<script src="/js/main.js" integrity="sha512-Pe7BqBryNSU1/MBhE3fEAnBZh0QzkK0LQNC0/sbc6H7DtTX9LSFYGDUJ773c6pYdGz6QC1MGtDmuPvgdKkgrzw=="></script>

    </body>


</html>
